# 0003 - Стиль API та Модель Помилок

**Дата:** 26.10.2025
**Статус:** Прийнято

## 1. Контекст

Для забезпечення єдиного досвіду інтеграції та чистого контракту необхідно стандартизувати стиль API, DTO та формат помилок.

## 2. Рішення

1.  **Стиль API:** Використовується стиль **REST (Representational State Transfer)**, де ресурси ідентифікуються за URI (наприклад, `/signs`).
2.  **Контракт:** Публічний контракт API фіксується у файлі **`docs/api/openapi.yaml`** та повинен бути єдиним джерелом правди.
3.  **DTO (Data Transfer Objects):** Дані, що передаються між клієнтом та API, відповідають схемам, описаним в OpenAPI. Вони не містять бізнес-логіки.

## 3. Формат Помилок (Error Model)

Використовується єдиний, уніфікований формат помилок для всіх HTTP-відповідей, що не є успішними (окрім 401/403, які обробляються JWT-бібліотекою).

| Поле | Опис | Приклад |
| :--- | :--- | :--- |
| **HTTP Status** | Використовується стандартний код HTTP (400, 404, 409). | `400 Bad Request` |
| `error` | Загальний тип помилки (наприклад, "ValidationError", "NotFound"). | `"ValidationError"` |
| `code` | Унікальний, зрозумілий для клієнта, код помилки. | `"SIGN_NAME_REQUIRED"` |
| `details` | Масив об'єктів для детальної інформації, наприклад, валідації. | `[{ "field": "name", "message": "Name cannot be empty" }]` |