<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–≤—ñ–¥–Ω–∏–∫ –¥–æ—Ä–æ–∂–Ω—ñ—Ö –∑–Ω–∞–∫—ñ–≤</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üö¶ –î–æ–≤—ñ–¥–Ω–∏–∫ –¥–æ—Ä–æ–∂–Ω—ñ—Ö –∑–Ω–∞–∫—ñ–≤</h1>

        <div class="controls">
            <button onclick="loadAllSigns()">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ –∑–Ω–∞–∫–∏</button>
            <button onclick="loadSignsByCategory('–ó–∞–±–æ—Ä–æ–Ω–Ω—ñ')">–ó–∞–±–æ—Ä–æ–Ω–Ω—ñ</button>
            <button onclick="loadSignsByCategory('–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É')">–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É</button>
            <button onclick="loadSignsByCategory('–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ')">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ</button>
            <button onclick="loadSignsByCategory('–ü–æ–ø–µ—Ä–µ–¥–∂—É–≤–∞–ª—å–Ω—ñ')">–ü–æ–ø–µ—Ä–µ–¥–∂—É–≤–∞–ª—å–Ω—ñ</button>
        </div>

        <div id="loading" style="display: none;">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>

        <div id="signsList" class="signs-container"></div>
    </div>

    <script>
        const API_URL = 'http://localhost:5000';

        function showLoading() {
            document.getElementById('loading').style.display = 'block';
        }

        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
        }

        async function loadAllSigns() {
            showLoading();
            try {
                const response = await fetch(`${API_URL}/signs`);
                const data = await response.json();
                displaySigns(data.data);
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                document.getElementById('signsList').innerHTML = '<p>–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</p>';
            }
            hideLoading();
        }

        async function loadSignsByCategory(category) {
            showLoading();
            try {
                const response = await fetch(`${API_URL}/signs/${category}`);
                const data = await response.json();
                displaySigns(data.data);
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                document.getElementById('signsList').innerHTML = '<p>–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</p>';
            }
            hideLoading();
        }

        function displaySigns(signs) {
            const container = document.getElementById('signsList');

            if (!signs || signs.length === 0) {
                container.innerHTML = '<p>–ó–Ω–∞–∫–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</p>';
                return;
            }

            container.innerHTML = signs.map(sign => `
                <div class="sign-card">
                    <h3>${sign.name}</h3>
                    <span class="category ${sign.category}">${sign.category}</span>
                    <p>${sign.description}</p>
                </div>
            `).join('');
        }

        // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –∑–Ω–∞–∫–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
        window.onload = loadAllSigns;
    </script>
</body>
</html>